spring:
  application:
    name: petty-gateway-service
info:
  build:
    artifact: @project.artifactId@
    name: @project.name@
    description: @project.description@
    version: @project.version@
server:
  port: 80
eureka:
  client:
    service-url:
      defaultZone: http://127.0.0.1:30151/eureka
zuul:
  ignored-services: "*"
  prefix: "/api"
  ratelimit: # 网关限流
      key-prefix: gate_rate
      enabled: true
      repository: REDIS #REDIS, JPA, IN_MEMORY
      behind-proxy: true
      default-policy: #optional - will apply unless specific policy exists
        limit: 30
        refresh-interval: 30 #default value (in seconds)
        type: #optional
          - user
          - origin
          - url
  routes:
        petty-auth:
          path: "/auth/**"
          serviceId: "petty-auth-server"
ribbon:
  eureka:
    enabled: true
  ReadTimeout: 60000
  ConnectTimeout: 60000
  MaxAutoRetries: 0
  MaxAutoRetriesNextServer: 1
  OkToRetryOnAllOperations: false
hystrix:
  threadpool:
    default:
      coreSize: 1000 #并发执行的最大线程数，默认10
      maxQueueSize: 1000 #BlockingQueue的最大队列数
      queueSizeRejectionThreshold: 500 #即使maxQueueSize没有达到，达到queueSizeRejectionThreshold该值后，请求也会被拒绝
  command:
    default:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 50000